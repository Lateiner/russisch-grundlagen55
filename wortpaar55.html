<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch-Assistent: Die 6 Adjektivgruppen</title>
    <!-- Polyfill für Drag & Drop auf Tablets/Smartphones -->
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary: #0039a6;
            --secondary: #d52b1e;
            --bg: #f4f7f6;
            --card: #ffffff;
            --correct: #28a745;
            --wrong: #dc3545;
            --correct-light: #d4edda;
            --wrong-light: #f8d7da;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: #333;
            margin: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
        }

        .main-container {
            max-width: 900px;
            width: 100%;
            background: var(--card);
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1, h2 { color: var(--primary); text-align: center; }
        
        .intro-box {
            background: #eef2ff;
            border-left: 5px solid var(--primary);
            padding: 15px;
            margin-bottom: 25px;
            font-size: 0.95rem;
            border-radius: 4px;
        }

        .exercise-card {
            border: 1px solid #e0e0e0;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
            background: #fafafa;
        }

        .ex-title {
            font-weight: bold;
            display: block;
            margin-bottom: 15px;
            color: #444;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }

        /* Interaktive Elemente */
        select {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
            margin: 5px 0;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .correct { background-color: var(--correct-light) !important; border-color: var(--correct) !important; color: #155724 !important; }
        .wrong { background-color: var(--wrong-light) !important; border-color: var(--wrong) !important; color: #721c24 !important; }

        /* Buttons */
        .btn-group { display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
        button {
            padding: 10px 18px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            transition: opacity 0.2s;
        }
        .reset-btn { background-color: #6c757d; }
        .sol-btn { background-color: var(--primary); }
        button:hover { opacity: 0.9; }

        /* Drag and Drop Styling */
        .draggable-pool {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            background: #f0f0f0;
            padding: 15px;
            border-radius: 6px;
            min-height: 60px;
            margin-bottom: 15px;
        }

        .drag-item {
            padding: 8px 14px;
            background: white;
            border: 1px solid var(--primary);
            border-radius: 4px;
            cursor: grab;
            user-select: none;
            font-weight: 500;
        }

        .drop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
        }

        .drop-box {
            border: 2px dashed #ccc;
            background: white;
            min-height: 70px;
            padding: 10px;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .drop-label { font-size: 0.8rem; color: #777; margin-bottom: 5px; font-weight: bold; }

        /* Clickable Words */
        .click-word {
            display: inline-block;
            padding: 6px 12px;
            margin: 4px;
            border: 1px solid #ccc;
            background: white;
            border-radius: 4px;
            cursor: pointer;
        }

        @media (max-width: 600px) {
            .main-container { padding: 15px; }
            .btn-group { flex-direction: column; }
            button { width: 100%; }
        }
    </style>
</head>
<body>

<div class="main-container">
    <h1>Russische Grammatik</h1>
    <h2>Interaktives Training: Die 6 Adjektivgruppen</h2>

    <div class="intro-box">
        <strong>Kurz-Check:</strong> Die Gruppe eines Adjektivs wird durch den Stamm (den Konsonanten vor der Endung) und die Betonung bestimmt. Dies ist entscheidend für die korrekte Rechtschreibung (z.B. 7-Buchstaben-Regel).
    </div>

    <!-- 1. DRAG AND DROP: GRUPPEN SORTIEREN -->
    <div class="exercise-card" id="ex1">
        <span class="ex-title">Aufgabe 1: Sortiere die Adjektive in die richtige Gruppe.</span>
        <div class="draggable-pool" id="pool1"></div>
        <div class="drop-grid">
            <div class="drop-box" data-ans="1"><div class="drop-label">Gr. 1 (-ОЙ betont)</div></div>
            <div class="drop-box" data-ans="2"><div class="drop-label">Gr. 2 (-ЫЙ hart)</div></div>
            <div class="drop-box" data-ans="3"><div class="drop-label">Gr. 3 (К, Г, Х + -ИЙ)</div></div>
            <div class="drop-box" data-ans="4"><div class="drop-label">Gr. 4 (Zischlaut + -ИЙ)</div></div>
            <div class="drop-box" data-ans="5"><div class="drop-label">Gr. 5 (-НИЙ weich)</div></div>
            <div class="drop-box" data-ans="6"><div class="drop-label">Gr. 6 (Kombiniert)</div></div>
        </div>
        <div class="btn-group">
            <button class="reset-btn" onclick="initEx1()">Zurücksetzen und mischen</button>
            <button class="sol-btn" onclick="solveEx1()">Lösung anzeigen</button>
        </div>
    </div>

    <!-- 2. GENDER MATCHING (Drag & Drop) -->
    <div class="exercise-card" id="ex2">
        <span class="ex-title">Aufgabe 2: Wort-Paar-Matching. Ordne das Maskulinum dem Femininum zu.</span>
        <div class="draggable-pool" id="pool2"></div>
        <div class="drop-grid">
            <div class="drop-box" data-ans="m1"><div class="drop-label">синяя (Gr. 5)</div></div>
            <div class="drop-box" data-ans="m2"><div class="drop-label">новая (Gr. 2)</div></div>
            <div class="drop-box" data-ans="m3"><div class="drop-label">большая (Gr. 1)</div></div>
        </div>
        <div class="btn-group">
            <button class="reset-btn" onclick="initEx2()">Zurücksetzen</button>
            <button class="sol-btn" onclick="solveEx2()">Lösung anzeigen</button>
        </div>
    </div>

    <!-- 3-4. FEHLERSUCHE (Click) -->
    <div class="exercise-card" id="ex3">
        <span class="ex-title">Aufgabe 3 & 4: Fehlersuche. Klicke die Wörter an, die FALSCH geschrieben sind.</span>
        <div id="words3">
            <span class="click-word" data-corr="false">русскые</span>
            <span class="click-word" data-corr="true">хорошие</span>
            <span class="click-word" data-corr="false">плохые</span>
            <span class="click-word" data-corr="true">синее</span>
        </div>
        <div class="btn-group">
            <button class="reset-btn" onclick="resetWords('words3')">Zurücksetzen</button>
            <button class="sol-btn" onclick="solveWords('words3')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- 5-10. STAMM & ENDUNGEN (Select) -->
    <div class="exercise-card">
        <span class="ex-title">Aufgabe 5–10: Stamm-Detektiv und Endungen.</span>
        5. Welcher Buchstabe bestimmt die Gruppe in „высокий“? 
        <select id="sel5" onchange="checkSel('sel5', 'к')">
            <option value="">?</option><option value="в">в</option><option value="к">к</option><option value="и">и</option>
        </select><br>
        6. Welcher Buchstabe bestimmt die Gruppe in „свежий“? 
        <select id="sel6" onchange="checkSel('sel6', 'ж')">
            <option value="">?</option><option value="с">с</option><option value="ж">ж</option><option value="и">и</option>
        </select><br><br>
        <strong>Wähle die richtige Endung:</strong><br>
        7. Femininum von „летний“: лет- <select id="sel7" onchange="checkSel('sel7', 'яя')">
            <option value="">?</option><option value="ая">ая</option><option value="яя">яя</option>
        </select><br>
        8. Plural von „маленький“: маленьк- <select id="sel8" onchange="checkSel('sel8', 'ие')">
            <option value="">?</option><option value="ыe">ые</option><option value="ие">ие</option>
        </select><br>
        9. Neutrum von „горячий“: горяч- <select id="sel9" onchange="checkSel('sel9', 'ее')">
            <option value="">?</option><option value="ое">ое</option><option value="ее">ее</option>
        </select><br>
        10. Maskulinum von „teuer“ (betont): дорог- <select id="sel10" onchange="checkSel('sel10', 'ой')">
            <option value="">?</option><option value="ый">ый</option><option value="ой">ой</option>
        </select>
        <div class="btn-group">
            <button class="reset-btn" onclick="for(let i=5;i<=10;i++)resetSel('sel'+i)">Zurücksetzen</button>
            <button class="sol-btn" onclick="solveSel5to10()">Lösung anzeigen</button>
        </div>
    </div>

    <!-- 11-14. ODD ONE OUT & REGELN -->
    <div class="exercise-card">
        <span class="ex-title">Aufgabe 11–14: Analyse.</span>
        11. Welches Wort passt NICHT (andere Gruppe)?
        <div id="odd11">
            <span class="click-word" data-corr="false">белый</span>
            <span class="click-word" data-corr="false">новый</span>
            <span class="click-word" data-corr="true">последний</span>
        </div>
        12. Welches Wort gehört zur Gruppe 1 (Endung -ОЙ)?
        <div id="odd12">
            <span class="click-word" data-corr="true">молодой</span>
            <span class="click-word" data-corr="false">русский</span>
            <span class="click-word" data-corr="false">чистый</span>
        </div><br>
        13. Warum schreibt man „хорошие“ mit И? 
        <select id="sel13" onchange="checkSel('sel13', 'r1')">
            <option value="">?</option>
            <option value="r1">7-Buchstaben-Regel (nach ж, ш, ч, щ)</option>
            <option value="r2">Es ist die weiche Deklination</option>
        </select><br>
        14. Warum endet „следующее“ (Neutrum) auf -ЕЕ?
        <select id="sel14" onchange="checkSel('sel14', 'r1')">
            <option value="">?</option>
            <option value="r1">Unbetontes -ОЕ wird nach Zischlauten zu -ЕЕ</option>
            <option value="r2">Regel der Gruppe 2</option>
        </select>
        <div class="btn-group">
            <button class="reset-btn" onclick="resetWords('odd11');resetWords('odd12');resetSel('sel13');resetSel('sel14')">Zurücksetzen</button>
            <button class="sol-btn" onclick="solveWords('odd11');solveWords('odd12');solveSel('sel13','r1');solveSel('sel14','r1')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- 15-20. FINAL CHECK -->
    <div class="exercise-card">
        <span class="ex-title">Aufgabe 15–20: Gemischte Fragen.</span>
        15. Gruppe von „домашний“? <select id="sel15" onchange="checkSel('sel15', '5')">
            <option value="">?</option><option value="2">2</option><option value="5">5</option>
        </select><br>
        16. Maskulinum von „русско-китайская“? <select id="sel16" onchange="checkSel('sel16', '1')">
            <option value="">?</option><option value="1">русско-китайский</option><option value="2">русский-китайский</option>
        </select><br>
        17. Ist „хорошый“ korrekt? <select id="sel17" onchange="checkSel('sel17', 'n')">
            <option value="">?</option><option value="j">Ja</option><option value="n">Nein (Regel: ш+и)</option>
        </select><br>
        18. „синее“ ist... <select id="sel18" onchange="checkSel('sel18', 'n')">
            <option value="">?</option><option value="f">Feminin</option><option value="n">Neutrum</option>
        </select><br>
        19. „новые“ ist... <select id="sel19" onchange="checkSel('sel19', 'p')">
            <option value="">?</option><option value="p">Plural</option><option value="s">Singular</option>
        </select><br>
        20. „другой“ gehört zu Gr. <select id="sel20" onchange="checkSel('sel20', '1')">
            <option value="">?</option><option value="1">1</option><option value="3">3</option>
        </select>
        <div class="btn-group">
            <button class="reset-btn" onclick="for(let i=15;i<=20;i++)resetSel('sel'+i)">Zurücksetzen</button>
            <button class="sol-btn" onclick="solveFinal()">Lösung anzeigen</button>
        </div>
    </div>

</div>

<script>
    // --- DATEN ---
    const dataEx1 = [
        {t: 'другой', g: '1'}, {t: 'чистый', g: '2'}, {t: 'тихий', g: '3'},
        {t: 'младший', g: '4'}, {t: 'верхний', g: '5'}, {t: 'японско-корейский', g: '6'}
    ];
    const dataEx2 = [
        {t: 'синий', id: 'm1'}, {t: 'новый', id: 'm2'}, {t: 'большой', id: 'm3'}
    ];

    // --- INITIALISIERUNG ---
    window.onload = () => {
        initEx1();
        initEx2();
        initClickLogic();
    };

    function initEx1() {
        const pool = document.getElementById('pool1');
        pool.innerHTML = '';
        document.querySelectorAll('#ex1 .drop-box').forEach(box => {
            const label = box.querySelector('.drop-label');
            box.innerHTML = ''; 
            box.appendChild(label);
            box.className = 'drop-box';
        });
        [...dataEx1].sort(() => Math.random() - 0.5).forEach(d => {
            pool.appendChild(createItem(d.t, d.g));
        });
    }

    function initEx2() {
        const pool = document.getElementById('pool2');
        pool.innerHTML = '';
        document.querySelectorAll('#ex2 .drop-box').forEach(box => {
            const label = box.querySelector('.drop-label');
            box.innerHTML = ''; 
            box.appendChild(label);
            box.className = 'drop-box';
        });
        [...dataEx2].sort(() => Math.random() - 0.5).forEach(d => {
            pool.appendChild(createItem(d.t, d.id));
        });
    }

    function createItem(text, ref) {
        const div = document.createElement('div');
        div.className = 'drag-item';
        div.innerText = text;
        div.draggable = true;
        div.dataset.ref = ref;
        div.id = 'item-' + Math.random().toString(36).substr(2, 5);
        div.ondragstart = (e) => e.dataTransfer.setData('text', e.target.id);
        return div;
    }

    // --- DRAG & DROP LOGIK ---
    document.querySelectorAll('.drop-box').forEach(box => {
        box.ondragover = (e) => e.preventDefault();
        box.ondrop = (e) => {
            e.preventDefault();
            const id = e.dataTransfer.getData('text');
            const item = document.getElementById(id);
            if (!item) return;
            box.appendChild(item);
            item.className = (item.dataset.ref === box.dataset.ans) ? 'drag-item correct' : 'drag-item wrong';
        };
    });

    function solveEx1() {
        dataEx1.forEach(d => {
            const box = document.querySelector(`#ex1 .drop-box[data-ans="${d.g}"]`);
            const item = document.querySelector(`.drag-item[data-ref="${d.g}"]`);
            box.appendChild(item);
            item.className = 'drag-item correct';
        });
    }

    function solveEx2() {
        dataEx2.forEach(d => {
            const box = document.querySelector(`#ex2 .drop-box[data-ans="${d.id}"]`);
            const item = document.querySelector(`.drag-item[data-ref="${d.id}"]`);
            box.appendChild(item);
            item.className = 'drag-item correct';
        });
    }

    // --- SELECT LOGIK ---
    function checkSel(id, ans) {
        const el = document.getElementById(id);
        if(!el.value) el.className = "";
        else el.className = (el.value === ans) ? "correct" : "wrong";
    }

    function resetSel(id) {
        const el = document.getElementById(id);
        el.value = "";
        el.className = "";
    }

    function solveSel(id, ans) {
        const el = document.getElementById(id);
        el.value = ans;
        el.className = "correct";
    }

    function solveSel5to10() {
        solveSel('sel5','к'); solveSel('sel6','ж'); solveSel('sel7','яя');
        solveSel('sel8','ие'); solveSel('sel9','ее'); solveSel('sel10','ой');
    }

    function solveFinal() {
        const solutions = {
            'sel15': '5', 'sel16': '1', 'sel17': 'n', 
            'sel18': 'n', 'sel19': 'p', 'sel20': '1'
        };
        for (let id in solutions) {
            solveSel(id, solutions[id]);
        }
    }

    // --- CLICK LOGIK ---
    function initClickLogic() {
        document.querySelectorAll('.click-word').forEach(w => {
            w.onclick = () => {
                const isCorrectEx34 = (w.parentElement.id === 'words3' && w.dataset.corr === "false");
                const isCorrectOdd = (w.parentElement.id.startsWith('odd') && w.dataset.corr === "true");
                
                if (isCorrectEx34 || isCorrectOdd) w.className = "click-word correct";
                else w.className = "click-word wrong";
            };
        });
    }

    function resetWords(id) {
        document.querySelectorAll(`#${id} .click-word`).forEach(w => w.className = "click-word");
    }

    function solveWords(id1, id2) {
        [id1, id2].forEach(id => {
            if(!id) return;
            document.querySelectorAll(`#${id} .click-word`).forEach(w => {
                const shouldBeGreen = (id === 'words3') ? (w.dataset.corr === "false") : (w.dataset.corr === "true");
                if (shouldBeGreen) w.className = "click-word correct";
            });
        });
    }
</script>

</body>
</html>